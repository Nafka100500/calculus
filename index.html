<!doctype html>
<html>
  <head>
    <meta charset="utf-8">
    <title>calculus by avsej</title>
    <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1"/>
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8"/>
    <meta name="author" content="Sergey Avseyev"/>
    <meta name="viewport" content="width=device-width, initial-scale=1.0, minimum-scale=1.0"/>
    <link rel="me" type="text/html" href="http://www.google.com/profiles/sergey.avseyev" />
    <style type="text/css">
      body { font-family: "Droid Sans", Verdana, Arial, Helvetica, sans-serif; }
    </style>
  </head>
  <body>
    <h1>calculus</h1>
    <p>A ruby parser for TeX equations</p>
    <p>Calculus is utility library which allow to parse some subset of latex equations and store them in <a href="http://en.wikipedia.org/wiki/Reverse_Polish_notation">postfix notation</a> It also allows translate it to <a href="http://en.wikipedia.org/wiki/Abstract_syntax_tree">abstract syntax tree</a> and calculate (implemented for simple expressions).</p>

    <h2>Installation</h2>
      <pre> gem install calculus </pre>

    <h2>Examples</h2>
<pre>
 001:0&gt; require 'calculus'
 true
 002:0&gt; exp = Calculus::Expression.new(&quot;2 + 3 * x&quot;)
 #&lt;Expression:f46e77a9377ed2d5a9da768496a7e1c20be51bfe postfix_notation=[2, 3, &quot;x&quot;, :mul, :plus] variables={&quot;x&quot;=&gt;nil}&gt;
 003:0&gt; exp.postfix_notation
 [2, 3, &quot;x&quot;, :mul, :plus]
 004:0&gt; exp.abstract_syntax_tree
 [:plus, 2, [:mul, 3, &quot;x&quot;]]
 005:0&gt; exp.variables
 [&quot;x&quot;]
 006:0&gt; exp.unbound_variables
 [&quot;x&quot;]
 007:0&gt; exp[&quot;x&quot;] = 5
 5
 008:0&gt; exp.unbound_variables
 []
 009:0&gt; exp.calculate
 17
</pre>
    <p>
      You can also render expression to PNG image if you have <tt>latex</tt> and <tt>dvipng</tt> installed.
    </p>
<pre>
 010:0&gt; Calculus::Expression.new(&quot;2 + 3 \\cdot x&quot;).to_png
 &quot;/tmp/d20110512-16457-dhxt71/f46e77a9377ed2d5a9da768496a7e1c20be51bfe.png&quot;
</pre>
    <p>
      <img src="http://files.avsej.net/exp1.png" />
    </p>
    <p>
      Also you can skip parser if you need only png generation
    </p>
    <pre> 011:0&gt; Calculus::Expression.new("\\hat{f}(\\xi) = \\int_{-\\infty}^{\\infty} f(x)\\ e^{- 2\\pi i x \\xi}\\,dx", :parse =&gt; false).to_png
      </pre>
    <p>
      <img src="http://files.avsej.net/exp2.png"></p>
    <p>
      Don&#8217;t forget to cleanup file after using.
    </p>

    <h2>Contributing</h2>
    <ol>
      <li>Fork it (<a href="http://github.com/avsej/calculus/fork">http://github.com/avsej/calculus/fork</a>)</li>
      <li>Create your feature branch (<code>git checkout -b my-new-feature</code>)</li>
      <li>Commit your changes (<code>git commit -am 'Add some feature'</code>)</li>
      <li>Push to the branch (<code>git push origin my-new-feature</code>)</li>
      <li>Create new Pull Request</li>
    </ol>
    <script type="text/javascript">
      var gaJsHost = (("https:" == document.location.protocol) ? "https://ssl." : "http://www.");
      document.write(unescape("%3Cscript src='" + gaJsHost + "google-analytics.com/ga.js' type='text/javascript'%3E%3C/script%3E"));
      </script>
      <script type="text/javascript">
        try {
          var pageTracker = _gat._getTracker("UA-18113495-5");
          pageTracker._trackPageview();
        } catch(err) {}
    </script>
  </body>
</html>
